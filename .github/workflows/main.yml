- name: Ansible Lint
  # You may pin to the exact commit or the version.
  # uses: ansible/ansible-lint-action@912d1bf4240f503c2b7e50a6cacadd7df5c3dd82
  uses: ansible/ansible-lint-action@v6.15.0
  with:
    # Specific path to lint instead of the default `.`. Multiple arguments are not supported and you will need to alter linter configuration to accommodate other use cases.

    path: # optional, default is --show-relpath
    # deprecated
    args: # optional, default is 
- name: Run playbook
  uses: dawidd6/action-ansible-playbook@v2
  with:
    playbook: ansible_deploy.yml
    # Optional, directory where playbooks live
    directory: ./
    # Optional, SSH private key
    key: ${{secrets.SSH_PRIVATE_KEY}}
    # Optional, literal inventory file contents
    #inventory: |
    #  [all]
    #  example.com
    # Optional, SSH known hosts file content
    #known_hosts: |
    #  example.com ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOMqqnkVzrm0SdG6UOoqKLsabgH5C9okWi0dh2l9GKJl
    # Optional, encrypted vault password
    vault_password: ${{secrets.VAULT_PASSWORD}}
    # Optional, galaxy requirements filepath
    #requirements: galaxy-requirements.yml
    # Optional, additional flags to pass to ansible-playbook
    #options: |
    #  --inventory .hosts
    #  --limit group1
    #  --extra-vars hello=there
    #  --verbose
